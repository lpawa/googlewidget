<?xml version="1.0" encoding="UTF-8" ?>
<Module> 
  <ModulePrefs title="Calendar Integration SL">
     <Require feature="dynamic-height"/>
    <Require feature="google.calendar-0.5"/>
    <Require feature="google.calendar-0.5.read"/>
  </ModulePrefs>
<Content type="html">
    <![CDATA[
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
]]>
      <![CDATA[
      <div id="Content"></div>
      <script>
          var content = document.getElementById('Content');
          var html = 'Hello World <br>';
          var start = new Date();
          var storedEvent = null;
          console.log("start date:-"+start);
          html = html + "start date : -" + start + "<br>"
  var end = new Date();
  end.setDate(end.getDate() + 14);
  console.log("end date:-"+end);
  var viewer ="lakshya.pawa@sproutlogix.com";
  var timeOffset = 0;

  google.calendar.read.getEvents(
      eventsCallback,viewer,
      google.calendar.utils.fromDate(start, timeOffset),
      google.calendar.utils.fromDate(end, timeOffset));
      function eventsCallback(events) {
  if (events && events.length > 0) {
    storedEvents = events[0].events;
  } else {
    storedEvents = [];
  }
  console.log(events);
}
      </script>
        ]]>
  </Content>
</Module>
  console.log(events);
}
